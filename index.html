<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Korg's Paper Rebellion</title>
</head>
<body>
  <script>
    let array = ["Rock", "Paper", "Scissors"]
    function getComputerChoice(array) {
      const randomIndex = Math.floor(Math.random() * array.length);
      const item = array[randomIndex];
      return item;
    }
    
    function caseChange(response) {
      return response.charAt(0).toUpperCase() + response.slice(1).toLowerCase()}

    let computerWins = 0;
    let playerWins = 0;
    
     function thegame(playerSelection, computerSelection) {
      if (playerSelection == "Rock") {
        if (computerSelection == "Paper") {
          computerWins++;
          return "You lose, sucka! Paper beats Rock."}
        else if (computerSelection == "Scissors") {
          playerWins++;
          return "Woohoo! You win!"}
        else {
          return "Nice try, but it's just a tie!"}
      }

      if (playerSelection == "Paper") {
        if (computerSelection == "Scissors") {
          computerWins++;
          return "You lose, sucka! Scissors beats Paper."}
        else if (computerSelection == "Rock") {
          playerWins++;
          return "Woohoo! You win!"}
        else {
          return "Nice try, but it's just a tie!"}
      }

      if (playerSelection == "Scissors") {
        if (computerSelection == "Rock") {
          computerWins++;
          return "You lose, sucka! Rock beats Scissors."}
        else if (computerSelection == "Paper") {
          playerWins++;
          return "Woohoo! You win!"}
        else {
          return "Nice try, but it's just a tie!"}
      }

      else {
          return "I'm not sure what you typed there, bucko."}
    }

    for (i = 0; i < 5; i++) {
      //Things to run 5 times
      //getComputerChoice 5 separate times
      computerSelection = getComputerChoice(array)
      //Prompt user for choices 5 times -> change case of input every time
      userInput = prompt('Please type in "Rock", "Paper", or "Scissors"!');
      playerSelection = caseChange(userInput)
      console.log("The computer chose " + computerSelection + " and you chose " + playerSelection + ".");
      //Determine the winner of thegame function
      console.log(thegame(playerSelection, computerSelection) + " The current score is computer: " + computerWins + " to player: " + playerWins + ".");
    }
    
    function whoWins(playerWins, computerWins) {
      if (playerWins > computerWins) {
        return "You beat the computer! Humanity is still safe from machine overlords."
      }
      else if (computerWins > playerWins) {
        return "Oh no! The computer won and now all of humanity is doomed. Get to the choppa!"
      }
      else if (computerWins == playerWins) {
        return "It's a draw! ¯\_(ツ)_/¯"
      }
    }
    
    console.log(whoWins(playerWins, computerWins));
  </script>
</body>
</html>